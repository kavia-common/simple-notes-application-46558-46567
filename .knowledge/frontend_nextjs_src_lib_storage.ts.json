{"is_source_file": true, "format": "TypeScript", "description": "This file provides storage-related utility functions for managing notes in a simple notes application, including loading from and saving to localStorage, creating new notes, sorting notes, and a debounce utility function.", "external_files": ["./types"], "external_methods": ["crypto.randomUUID"], "published": ["loadState", "saveState", "createBlankNote", "sortNotesByUpdated", "debounce"], "classes": [], "methods": [{"name": "export function loadState(): NotesState { loadState", "description": "Loads the notes state from localStorage, with default fallback if not found or errors occur.", "scope": "", "scopeKind": ""}, {"name": "export function saveState(state: NotesState): void { saveState", "description": "Persists the given notes state into localStorage.", "scope": "", "scopeKind": ""}, {"name": "export function createBlankNote(): Note { createBlankNote", "description": "Creates a new untitled Note object with a generated id and timestamp.", "scope": "", "scopeKind": ""}, {"name": "export function sortNotesByUpdated(notes: Note[]): Note[] { sortNotesByUpdated", "description": "Returns a new array of notes sorted descending by their updatedAt timestamp.", "scope": "", "scopeKind": ""}, {"name": "export function debounce<TArgs extends unknown[]>( debounce", "description": "Returns a debounced version of the provided function that delays execution by ms milliseconds.", "scope": "", "scopeKind": ""}, {"name": "function cryptoRandomId(): string { cryptoRandomId", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["window.localStorage.getItem", "window.localStorage.setItem", "crypto.randomUUID / Math.random", "Date.now", "setTimeout", "clearTimeout"], "search-terms": ["localStorage", "NotesState", "storage utility", "createBlankNote", "sortNotesByUpdated", "debounce", "storage key"], "state": 2, "file_id": 14, "knowledge_revision": 46, "git_revision": "", "revision_history": [{"29": ""}, {"43": ""}, {"44": ""}, {"46": ""}], "ctags": [{"_type": "tag", "name": "STORAGE_KEY", "path": "/home/kavia/workspace/code-generation/simple-notes-application-46558-46567/frontend_nextjs/src/lib/storage.ts", "pattern": "/^const STORAGE_KEY = \"simple-notes-state-v1\";$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "createBlankNote", "path": "/home/kavia/workspace/code-generation/simple-notes-application-46558-46567/frontend_nextjs/src/lib/storage.ts", "pattern": "/^export function createBlankNote(): Note {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "cryptoRandomId", "path": "/home/kavia/workspace/code-generation/simple-notes-application-46558-46567/frontend_nextjs/src/lib/storage.ts", "pattern": "/^function cryptoRandomId(): string {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "debounce", "path": "/home/kavia/workspace/code-generation/simple-notes-application-46558-46567/frontend_nextjs/src/lib/storage.ts", "pattern": "/^export function debounce<TArgs extends unknown[]>($/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/simple-notes-application-46558-46567/frontend_nextjs/src/lib/storage.ts", "pattern": "/^  const id = cryptoRandomId();$/", "language": "TypeScript", "kind": "constant", "scope": "createBlankNote", "scopeKind": "function"}, {"_type": "tag", "name": "loadState", "path": "/home/kavia/workspace/code-generation/simple-notes-application-46558-46567/frontend_nextjs/src/lib/storage.ts", "pattern": "/^export function loadState(): NotesState {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "now", "path": "/home/kavia/workspace/code-generation/simple-notes-application-46558-46567/frontend_nextjs/src/lib/storage.ts", "pattern": "/^  const now = Date.now();$/", "language": "TypeScript", "kind": "constant", "scope": "createBlankNote", "scopeKind": "function"}, {"_type": "tag", "name": "parsed", "path": "/home/kavia/workspace/code-generation/simple-notes-application-46558-46567/frontend_nextjs/src/lib/storage.ts", "pattern": "/^    const parsed = JSON.parse(raw) as NotesState;$/", "language": "TypeScript", "kind": "constant", "scope": "loadState", "scopeKind": "function"}, {"_type": "tag", "name": "raw", "path": "/home/kavia/workspace/code-generation/simple-notes-application-46558-46567/frontend_nextjs/src/lib/storage.ts", "pattern": "/^    const raw = window.localStorage.getItem(STORAGE_KEY);$/", "language": "TypeScript", "kind": "constant", "scope": "loadState", "scopeKind": "function"}, {"_type": "tag", "name": "saveState", "path": "/home/kavia/workspace/code-generation/simple-notes-application-46558-46567/frontend_nextjs/src/lib/storage.ts", "pattern": "/^export function saveState(state: NotesState): void {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "sortNotesByUpdated", "path": "/home/kavia/workspace/code-generation/simple-notes-application-46558-46567/frontend_nextjs/src/lib/storage.ts", "pattern": "/^export function sortNotesByUpdated(notes: Note[]): Note[] {$/", "language": "TypeScript", "kind": "function"}], "hash": "9d8401261e94779e38258be44fa40426", "format-version": 4, "code-base-name": "frontend_nextjs", "filename": "frontend_nextjs/src/lib/storage.ts"}